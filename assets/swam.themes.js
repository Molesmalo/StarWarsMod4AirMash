"use strict";class BaseTheme{constructor(){this.settingsProvider=null}loadGameModules(){loadGraphics_Default(),loadSounds_Default()}start(){}injectTextures(){}injectSounds(){}}window.HyperSpace=function(){this.sprite=null;let e=PIXI.Texture.fromImage("hyperspace");this.sprite=new PIXI.Sprite(e)},window.HyperSpace.prototype={sprite:null,initialize:function(){let e=PIXI.Texture.fromImage("hyperspace");this.sprite=new PIXI.Sprite(e)},show:function(){function e(){for(name in t)"game"!=name&&(t[name].visible=t[name].prevVisible,delete t[name].prevVisible);game.graphics.layers.game.removeChild(s.sprite),s.sprite.filters=null,Graphics.renderBackground()}let s=this,t=game.graphics.layers;(function(){for(name in t)"game"!=name&&(t[name].prevVisible=t[name].visible,t[name].visible=!1);s.sprite.width=game.screenX,s.sprite.height=game.screenY,game.graphics.layers.game.addChild(s.sprite)})();let a=new PIXI.filters.ZoomBlurFilter(2,{x:game.halfScreenX,y:game.halfScreenY},0),r=new PIXI.filters.AdjustmentFilter({gamma:2,brightness:2,alpha:1}),i=function(){a.strength-=.03,1<r.gamma&&(r.gamma-=.02,r.brightness-=.02),0<a.strength?setTimeout(function(){i()},10):(a.strength=0,e())};this.sprite.filters=[a,r],i()}};function StarMash_2(){SWAM.replaceCSS(getFilePath("style.css"));let e=new SettingsProvider({nebulas:{blue:!0,green:!0,red:!0},asteroidLayers:3,decorations:{stellar:!0,planets:!0,moons:!0,ships:!0}},function(e){let s=e;if(game.graphics.layers.map.children[0].alpha=.8,game.graphics.layers.map.children[0].visible=s.nebulas.blue,game.graphics.layers.map.children[2].alpha=.8,game.graphics.layers.map.children[2].visible=s.nebulas.green,game.graphics.layers.map.children[4].alpha=.8,game.graphics.layers.map.children[4].visible=s.nebulas.red,SWAM.planet&&(SWAM.planet.visible=s.decorations.planets),SWAM.ShipContainer&&(SWAM.ShipContainer.visible=s.decorations.ships),SWAM.asteroids1&&SWAM.asteroids2&&SWAM.asteroids3){var t=[SWAM.asteroids1,SWAM.asteroids2,SWAM.asteroids3];for(let e=0;3>e;e++)t[e].visible=e<s.asteroidLayers}Graphics.renderBackground()});e.root="",e.title="Mod Settings";let s=e.addSection("Background");s.addButton("Generate New Background",{click:function(){SWAM.RandomizeBackground()}}),s.addBoolean("nebulas.blue","Blue nebulas"),s.addBoolean("nebulas.green","Green nebulas"),s.addBoolean("nebulas.red","Red nebulas"),s=e.addSection("Asteroid field"),s.addValuesField("asteroidLayers","Visible layers",{0:0,1:1,2:2,3:3}),s=e.addSection("Decorative objects"),s.addBoolean("decorations.stellar","Distant stellar objects"),s.addBoolean("decorations.planets","Planets"),s.addBoolean("decorations.moons","Moons"),s.addBoolean("decorations.ships","Ships"),this.settingsProvider=e}StarMash_2.themeName="StarMash v.2",StarMash_2.author="Bombita",StarMash_2.version=SWAM_version,StarMash_2.prototype.start=function(){function e(){let s=$("#regenerateBackground");if(0==s.length){var t=getTemplate("#regenerateBackground");s=$(t),$("body").append(s);let e=$("#btnRegenerate",s);e.click(function(){SWAM.RandomizeBackground()})}s.slideDown(),e.timer&&clearInterval(e.timer);let a=$(".timerIndicator",s);e.width=100,a.css("width","100%"),e.timer=setInterval(function(){e.width--,a.animate({width:e.width+"%"},90),0==e.width&&(clearInterval(e.timer),delete e.timer,s.slideUp())},100)}function s(){function e(e){for(let s=0;3>s;s++)a[s].visible=e}function s(e){for(let s=0;3>s;s++)a[s].renderable=e}let t=game.graphics.layers.map,a=[t.children[1],t.children[3],t.children[5]];t.visible=!1,function(){for(let e=0;3>e;e++){t.children[2*e].mask=null;let s=Tools.randInt(0,a.length-1);t.children[2*e].mask=a[s],SWAM.debug&&console.log(`${t.children[2*e].layerName}: ${a[s].layerName}`)}s(!0)}(),function(){e(!0);let s=config.mapWidth*game.scale-game.screenX/game.scale,a=config.mapHeight*game.scale-game.screenY/game.scale;for(let e=0;3>e;e++)t.children[2*e+1].position.set(Tools.randInt(-s,0),Tools.randInt(-a,0));Graphics.renderBackground(),e(!1)}(),t.visible=!0;let r=1==Tools.randInt(0,1);SWAM.MoveBackgroundTiles=r,s(!1),e(r),SWAM.debug&&console.log("movable nebulas: "+r)}function t(){for(let a in m){let r=m[a];r.scale=r.scale||1;let i=Graphics.renderer,o=PIXI.Texture.fromImage(a),n=null;for(let l in r.useMask&&(n=PIXI.Texture.fromImage(a+"_Mask")),r.items){let a=r.items[l],p=new PIXI.Texture(o,new PIXI.Rectangle(a[0]*r.scale,a[1]*r.scale,a[2]*r.scale,a[3]*r.scale)),d=new PIXI.Sprite(p);d.scale.set(r.resultScale,r.resultScale);var e=null;if(r.useMask){var s=r.maskScale||1,t=new PIXI.Texture(n,new PIXI.Rectangle(a[0]*r.scale/s,a[1]*r.scale/s,a[2]*r.scale/s,a[3]*r.scale/s)),e=new PIXI.Sprite(t);e.scale.set(s,s),d.addChild(e),d.filters=[new PIXI.SpriteMaskFilter(e)],e.position.set(-a[0]*r.scale,-a[1]*r.scale)}let h=PIXI.RenderTexture.create(d.width,d.height);i.render(d,h,!0),SWAM.Textures[l]=h}}}function a(e,s){let t=SWAM.Textures[e],a=new PIXI.Sprite(t);return"undefined"==typeof s&&(s={}),a.distanceFactor=s.distanceFactor?s.distanceFactor:[1,1],a.basePosition=s.basePosition?s.basePosition:[0,0],s.position&&a.position.set(s.position[0],s.position[1]),s.anchor&&a.anchor.set(s.anchor[0],s.anchor[1]),s.pivot&&a.pivot.set(s.pivot[0],s.pivot[1]),s.scale&&(Array.isArray(s.scale)?a.scale.set(s.scale[0],s.scale[1]):a.scale.set(s.scale)),s.rotation&&(a.rotation=s.rotation),s.alpha&&(a.alpha=s.alpha),s.blend&&(a.blendMode=PIXI.BLEND_MODES[s.blend]),s.tint&&(a.tint=s.tint),s.mask&&(a.mask=s.mask),s.visible&&(a.visible=s.visible),s.container&&s.container.addChild(a),a}function r(e,s){"undefined"==typeof s&&(s={});let t=a(e,s);return t.distanceFactor=s.distanceFactor?s.distanceFactor:[1,1],t.basePosition=s.basePosition?s.basePosition:[0,0],t.update=function(){let e=Graphics.getCamera(),s=e.x+(t.basePosition[0]-e.x)/t.distanceFactor[0],a=e.y+(t.basePosition[1]-e.y)/t.distanceFactor[1];t.position.set(s,a)},t}function i(){function e(e){e=e||{},e.count=e.count||12,e.x=e.x||[-14e3,-1e4],e.y=e.y||[-1e3,1e3],e.radius=e.radius||[5e3,13e3],e.baseDistanceFactor=e.baseDistanceFactor||8,e.textures=e.textures||m.ImperialShips.items;var s=e.count,t=[];for(let s in e.textures)t.push(s);let o=2*Math.PI/s;for(let l=0,i=0;l<s;l++,i+=o){let s=Tools.randInt(e.radius[0],e.radius[1]),a=Tools.randInt(e.x[0],e.x[1]),o=Tools.randInt(e.y[0],e.y[1]),l=n(a,o,s,i);a=l.x,o=l.y;let p=Tools.rand(.2,.85),d=.5*(1/(p/.85))+.5,h=t[Tools.randInt(0,t.length-1)],c=r(h,{distanceFactor:[e.baseDistanceFactor*d,e.baseDistanceFactor*d],scale:[p,p],basePosition:[a,o],position:[a,o],anchor:[.5,.5]});c.textureName=h,c.angleUsed=i,SWAM.Ships.push(c)}}var s=SWAM.ShipContainer;null==s?(s=new PIXI.Container,s.scale.set(game.scale,game.scale),game.graphics.layers.map.addChildAt(s,l()),SWAM.ShipContainer=s):(s.removeChildren(),SWAM.Ships=[]),e({count:12,x:[-17e3,-13e3]}),e({count:16,x:[13e3,17e3],radius:[5e3,1e4],textures:m.RebelShips.items}),SWAM.Ships.sort(function(e,s){return s.distanceFactor[0]-e.distanceFactor[0]});for(let e of SWAM.Ships)s.addChild(e)}function o(){let e=Graphics.getCamera(),s=e.x-game.halfScreenX/game.scale,t=e.y-game.halfScreenY/game.scale;return{x:s,y:t}}function n(e,s,t,r){let a=t*Math.cos(r)+e,i=t*Math.sin(r)+s;return{x:a,y:i}}function l(){let e=game.graphics.layers.map,s=game.graphics.layers.doodads,t=0;for(var a=0;a<e.children.length;a++)e.children[a]==s&&(t=a);return t}function p(e,s,t){var a=Graphics.renderer.width,r=Graphics.renderer.height;let i=Textures.tile(e,a,r);return i.layerName=s,game.graphics.layers.map.addChildAt(i,l()),i.tileScale.set(t,t),i}function d(e=-1){function s(){let e=h(Graphics.renderer,t[a]);e.layerName="planet",e.scaleModifier=Tools.rand(.1,.65),e.scale.set(.5*e.scaleModifier,.5*e.scaleModifier);let s=4*e.scaleModifier;e.basePosition=[Tools.randInt(-25e3,7e4),Tools.randInt(-2e4*s,4e4*s)],e.distanceFactor=[30,30],SWAM.debug&&(console.log("planet: "+t[a]),console.log("planet scale: "+e.scale.x.toFixed(2)+"    modifier: "+e.scaleModifier.toFixed(2)),console.log("planet pos: "+e.basePosition[0]+", "+e.basePosition[1])),e.update=function(s,t){let a=(s+e.basePosition[0]*game.scale)/e.distanceFactor[0],r=(t+e.basePosition[1]*game.scale)/e.distanceFactor[1];e.position.set(a,r)},null!=SWAM.planet&&game.graphics.layers.map.removeChild(SWAM.planet),SWAM.planet=e,game.graphics.layers.map.addChildAt(SWAM.planet,6);let r=o();e.update(-r.x*game.scale,-r.y*game.scale),SWAM.loadSettings()}let t=[];for(let s in u)t.push(s);let a=Tools.randInt(0,t.length-1);0<=e&&e<t.length&&(a=e);let r=new PIXI.loaders.Loader;r.add(t[a],u[t[a]].texture),r.add(t[a]+"_Mask",u[t[a]].mask),r.load(s)}function h(e,s){var t=PIXI.Texture.fromImage(s),a=new PIXI.Sprite(t),r=PIXI.Sprite.fromImage(s+"_Mask");r.scale.set(1,1);let i=PIXI.RenderTexture.create(2*a.width,2*a.height),o=new PIXI.Sprite(i);return a.addChild(r),a.filters=[new PIXI.SpriteMaskFilter(r)],a.scale.set(2,2),a.position.set(0,0),e.render(a,i),o.update=c,o}function c(){var e=SWAM.planet;let s=Graphics.getCamera(),t=game.halfScreenX/game.scale,a=game.halfScreenY/game.scale,r=s.x-t+16384,i=game.screenX-e.width,o=config.mapWidth-game.screenX/game.scale,n=s.y+8192,l=0;if(5e3>n)l=game.screenY;else{let s=config.mapHeight-a-5e3;l=game.screenY-e.height*(n-5e3)/s}e.position.set(r*i/o,l)}config.overdraw=0,config.overdrawOptimize=!0,game.graphics.layers.shadows.visible=!1,game.graphics.layers.smoke.visible=!1,StarMash_2.addGraphicsSetButton(),SWAM.ShipContainer=null,SWAM.Ships=[],SWAM.Planets=[],SWAM.Moons=[],SWAM.Stellar=[],SWAM.Textures={};let m={ImperialShips:{scale:1,resultScale:.5,useMask:!0,maskScale:2,items:{ISD_01:[0,0,1700,583],ISD_02:[0,2017,1250,803],ISD_03:[1701,0,1414,741],ISD_04:[0,1288,1418,728],ISD_05:[1419,1566,1109,738],ISD_06:[1251,2305,913,523],ISD_07:[1463,742,1409,575],ISD_08:[0,584,1462,703],Dread_01:[0,2821,925,294],Dread_02:[2545,1318,657,505],Dread_03:[1419,1318,1125,247],Dread_04:[926,2829,711,348]}},RebelShips:{scale:.5,resultScale:1,useMask:!0,maskScale:2,items:{CR90_1:[0,2013,591,293],CR90_2:[0,2307,553,180],CR90_3:[2911,1381,604,214],CR90_4:[2038,2005,417,407],CR90_5:[554,2307,402,237],GR75_1:[592,2013,508,264],GR75_2:[2467,492,738,207],GR75_3:[2911,1596,601,248],Liberty_1:[0,1680,1115,332],Liberty_2:[1694,0,960,464],Liberty_3:[1553,465,913,537],M80_1:[0,1369,1515,310],M80_2:[0,462,1552,394],MonCalamari_1:[0,0,1693,461],MonCalamari_2:[0,857,1547,511],NebulonB1_1:[1548,1003,813,433],NebulonB1_2:[1617,1970,420,578],NebulonB1_3:[2655,0,794,491],NebulonB1_4:[2296,1437,614,567],NebulonB1_5:[1516,1437,779,532],NebulonB2_1:[1116,1970,500,660],NebulonC_1:[2467,700,680,680]}}},u={};for(let e,s=2;12>=s;s++)e=("0"+s).slice(-2),u["Planet"+e]={texture:getFilePath("themes/StarMash_2/planets/planet"+e+".jpg"),mask:getFilePath("themes/StarMash_2/planets/planet"+e+"-mask.jpg")};let g=new PIXI.loaders.Loader;g.add("hyperspace",getFilePath("themes/StarMash_2/hyperspace.jpg")),g.add("ImperialShips",getFilePath("themes/StarMash_2/ships/ships1.jpg")),g.add("ImperialShips_Mask",getFilePath("themes/StarMash_2/ships/ships1-mask-50.jpg")),g.add("RebelShips",getFilePath("themes/StarMash_2/ships/RebelShips1.jpg")),g.add("RebelShips_Mask",getFilePath("themes/StarMash_2/ships/RebelShips-mask.jpg")),g.load(()=>{t(),SWAM.RandomizeBackground(),SWAM.asteroids3=p("asteroids1","asteroids3",game.scale/3),SWAM.asteroids2=p("asteroids2","asteroids2",game.scale),SWAM.asteroids1=p("asteroids1","asteroids1",game.scale),SWAM.hyperSpace=new HyperSpace,SWAM.loadSettings(),Graphics.setCamera(0,0)}),SWAM.RandomizeBackground=function(t=-1){e(),s(),d(t),i()},SWAM.debug&&(SWAM.ShowRegenerateButton=e),SWAM.MoveBackgroundTiles=!0,SWAM.debug&&(SWAM.createShips=i),SWAM.BackgroundFactor=100,SWAM.resizeLayers=function(e,s){let t=e/game.scale,a=s/game.scale;SWAM.planet,SWAM.ShipContainer&&SWAM.ShipContainer.scale.set(game.scale,game.scale),SWAM.asteroids1&&(SWAM.asteroids1.width=e,SWAM.asteroids1.height=s),SWAM.asteroids2&&(SWAM.asteroids2.width=e,SWAM.asteroids2.height=s),SWAM.asteroids3&&(SWAM.asteroids3.width=e,SWAM.asteroids3.height=s)},SWAM.doUpdates=!0,SWAM.updateLayers=function(e,s){if(SWAM.doUpdates&&SWAM.Settings&&(SWAM.Settings.themes.StarMash_2.decorations.planets&&this.planet&&this.planet.update(e,s),0<SWAM.Settings.themes.StarMash_2.asteroidLayers&&this.updateAsteroids(e,s),SWAM.Settings.themes.StarMash_2.decorations.ships&&SWAM.ShipContainer&&(SWAM.ShipContainer.position.set(e,s),SWAM.Ships)))for(let t in SWAM.Ships)SWAM.Ships[t].update(e,s)},SWAM.updateAsteroids=function(e,s){SWAM.asteroids1&&SWAM.asteroids1.tilePosition.set(e/2,s/2),SWAM.asteroids2&&SWAM.asteroids2.tilePosition.set(e/4,s/4),SWAM.asteroids3&&SWAM.asteroids3.tilePosition.set(e/6,s/6)},SWAM.on("playerAdded",StarMash_2.overridePlayerMethods),SWAM.on("mobAdded",StarMash_2.mobAdded),SWAM.on("scoreboardUpdate",StarMash_2.onScoreboardUpdate),SWAM.on("aircraftSelected",StarMash_2.aircraftSelected)},StarMash_2.addGraphicsSetButton=function(){const e=["url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAC/VBMVEUAAAD////////////////////////+/v4LCwv///8ODg7//////////////////////////////v59fHz///////////////8VFRX5+fn//v7//v7///////8SEhL////////////++vr///8bGxsUFBQbGxsuLi7///////////8gICA0NDRcXFxAQED////////SCQkxMTEmJiZBQUFiYmKwsLDa2trOzs7q6uqlpaX////////9/f3////KCwsuLi47OjpUVFRQUFDhV1eBgYFsbGzupqa8vLzS0tLk5OTw8PDl5eX////////////79fXskpLxCgrbCQnOFxfZGRncFBT0GxsqKiraJyf1NzcgICBGRkbjQEDUPT3VVlZDQ0PYZWWHh4fqjo6hBQVHR0f09PTBCgryvb3R0dH43d31xcX+5uY5OTn////uAwPDERG6Cgq/FxfVDw/aIiJPT0/eTEzJHBw5OTncdHR0dHSCgoLULS3WPT1RUVGvAgJ0dHS+vr7ExMTyycn7h4fTLy/sJCT75+fOVFRra2vmenqgoKCampr55ub88fH///+Tk5PY2NioqKjpenrGxsbzwMDQQUH4+PjvWlr209Pr6+v86urs7OzEDAzlDQ3mICDOS0vXKirha2v2YWEzMzODg4PiRESTk5NcWlqhoaHBAgKmpqbreXnPFRXxsbGDg4OzDg5qamrsb2/ehYXuvLzLHh61tbX67e3oVFTmRkZUVFTgVVX2zMy8Gxv6mJjzt7ewsLBpaWn30ND8sLDyra323991dXXtoaHtQkLdYGD////0r6+Ghob////xp6d8fHz56OhVVVXuVFT0w8PafX30zs7toqLrOzvKysrvtbXrnZ3hd3fa2tr1qqq7u7vorKz2trbbaGjtwcHwwcH71dXdfHz12Njzk5P85eUHBwcJCQncAADfAQHIAADtAADqAADmAADRAADiAADWAQHZAADMAADFAADDAQHAAQHxAADKAADOAQG6AADkAADTAQHFcXUqAAAA6XRSTlMAAgUJDzASwP4e/VozIUgYOl4s3VNAPDb6wGRQQiT7Pg1NHBX49/XockpF8u/m11Um/PLy7eHQx8PBiYFubGf58+/o5uXc3NLKycXDt5CHencx/Pv49/f29PHu7Ovq6eXi4drX08zCsKqmpZeOjCn++fj39vTp6Ojk3dzb2tbU09LNzMnJw8O8vLKwo52amZaVlJCNioeHenFwbWVi+/r16OPg3Nzb2NfW09PSz87Nzc3My8jGxsTDwsLAvr29vLu3trOxsa+sqaalo6KhoJqak5GMiIeDgX54eHh2cG9ubGZlYltPTkJCOwDD0BUAAARNSURBVDjLZZRldBNBFIXTrCfZjbunSZqkCVBKgQrFpS20FHd3d3d3d3d3d3d3d99NGwhV2sJhdgsFDu/fzPnOvfe8N294f1VICASHEiQhhiF+CO+/CuGKD6EEIlGqEBIFFFd/I3w+BEF8Pkyo9Y/HP9CrSRic2JsiDCAWGEVhGLaJFPeH5a++W1xkg7krC/Qb40OwmCBTU20EYp0/PC8r2GK+HiFsqakgHcoas0IgiUz0esF7GUKV61Q+PSv441wchfT4+HCRSIaUCIVCWDOURJRP9y/4oDYs7TqxJYAGTOy61KD+tGjCnRdClREFUnwLIaKeDBz/1mB4M2ng4Or1siKqt218+JVS9e7SrshpQgkJ83mQGHEvHlZ+rt7gude7oFfLeln1q9TPrDvXYKa6ygVh8xQiMcSDSxh0R/OHL7aqVC8n9cnNKZ8XEZHR4NBziTqmhtaHjyjnMcI8sVp4o29wis6DIJRrb6+c9Lz8YN1ttSmkO16yaiXcMVUoEvOMVO0NGX0v6swlSLV0RuucbJC8ygydpLsGZxh7I1OxJUqShwivNsjo10knIUKNVMq+5dnpeRE7Yq3dffKSDNOsdEnHHLeMpyq3x5/Zr1O8xGYRq3VdWgCo8Zlyt33RmFzAVNJWxScrRDxPSvM0f/2TLqUNQmXC6azfgC435VptmTYavGJiDUExoYRnTV6Z5q/bNtZqhNEeiluDc7PTq3TrHF22akUBY6qGlQ1vKjXzFLVWfE3zV+kCQhEioJSbk31ZGjtKQ9MMw1TGaoY5pEpe8Vpfvqf5G1RPFqrUbtf5VQW5HWXW2q1oDiqlrTlIIDUA6PMXINX8WHK8Lm7m2D4FHW2I+3+oDqD8mc3HXp955WDLgo4IohTGVjP9Y6dPbviZNcxovKZ62xa9j+v0emlK5+gxci/+JzgV26Qna5iZEVGvfG67TbMXLpy9O1KOdWBbUCpxNNcCpWttzwBnGMxPb0ebvKc6e020JiqJbWZ/7VDmNGimWneiTiDwmTUMtmNAkhoJApBa4BtaOBYNO5Yeim5NvgUCrOFIwND2MtGNaFA4N+AKhQMmzHHj6nxjDUcyrJA3CWuG01xVkFdiNNxTQWWsFKC2V2QAJeiPYVECDokq3cHHFD46CyGJP9vwW2ACNrqyhmFwr3x9RaBkKlUaw4qeLx8tQbnGNdwSVQZLqlrKXmjk8A5JxBKH4OG/FiEECpXpU6aEMa0OaLHoNpHACrfLy2BYjcp002tCM7dSYKfEiLV4zDrGOapsknazTyOotFHboezOcDpsltDMLSe7nRabUaJ/dsTBOKO2JiRE2scklK4WTpvaP1KoAAOEOApCSREljGnvxBlnBQHeKJxmHMVmSd1qYyHzmyJkKuuymAvtw5xOuzOy2OSYZXozQqBFDKCAZSiJqCiFND7O5YqLlxZ3mxGjGP798RSJwWJSJpIoPRTlMahEMvKvT/En4U+imSkuVtwAAAAASUVORK5CYII=')","url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAACi1BMVEUAAAD///8LCwv///////8ODg4QEBD////7+/sWFhb///////////8NDQ3///82Njb///////////////////////8ZGRn///////////////////////////8UFBQUFBQmJiZhYWH///////////////////////8cHBwaGhouLi4xMTFHR0dpaWl7e3v///8fHx8fHx8uLi5ubm5+fn7BwcHS0tLv7+/4+Pj///////////////////////////8gICAgICBXV1dkZGSAgICCgoLb29vo6Ojx8fGmpqb///////////////////8YGBgoKCgzMzM/Pz8zMzMqKipLS0tTU1NRUVFbW1tDQ0N5eXkxMTGEhISKioq9vb3Y2NhOTk7l5eXl5eX09PT9/f3///////////////////////8SEhIVFRUrKysiIiI7OztDQ0MkJCRPT091dXVjY2NqamqpqalHR0e0tLS6urrMzMxISEjh4eG+vr7z8/P19fXOzs52dnadnZ2vr6////8aGhpdXV05OTkwMDAqKipOTk5cXFxFRUWSkpI6OjpVVVWfn5+lpaVwcHA/Pz+tra2qqqqvr6+BgYFZWVloaGhnZ2fs7OzOzs7S0tJVVVXt7e3a2tqwsLDR0dHPz89+fn7R0dGKioq6urqWlpba2tqurq6oqKj+/v7AwMD////k5OTe3t74+Pjc3Nz////4+Pj////r6+v19fXq6urw8PD///////8jIyM7Ozs7OztxcXF0dHRbW1tPT094eHjFxcWxsbG1tbW8vLzIyMhoaGhra2tra2ufn5+hoaGYmJicnJzMzMzS0tKSkpLDw8PIyMjKysrPz88HBwcKCgrXv00AAAAA13RSTlMAv/4DAf39IcD6Qgk9/grwPzstJBYS9F5aU0hGHQ/7+PXkV086MRgH+Pjz8uvi3Tf49Ojg3MzIw8BnXDQyLyoU8u3n49zbxsPCilVSUEoN+fTv7evr6ujo5ePd3dvZzcfGxbd+eXNiXyYOAvr19PDv7e3p393Z0dDPzsrKxcXCwL6skoNM8eXk5OPg3tvX1tXU09PT0dHQzs7Nx8PDwL+8uLitp6ajoJWUkpGQhYOBgX12b25ubW1lY18jH/Xh4Nva1tXQy8XEwsC2tbKkop6cmZeVi4l4dpOI3Z0AAAP8SURBVDjLdVRnVxNREN23cVt6JwkhhSRAAoTQkSBGIDE0QVREBRQ79t4Vxd5777333nvvdefnuG+DkuM5vi/75Z6Zu3MLEXs9JLIkPVNaopEmWiyJUk2wlElJkkl6EHFvQmo/PdNLYzEn9Lw5Zsz1nuPMFrnnnr5fKoZ1j7GWalbcXb5sYY7RXmccOHfZ8jsuudZqwMO6MEoDU5JoqhyxEvi6egXpCABpnNtZbMm611vZhZIoe+uyXNcOTeLt67cuWODw5hfMmZ0N9hG/qjXj9THUBJlB5zZXDoNJ294UsjvLbXTTFjZ6cHc2rDmTLB/fWyYRlqUmMe6qzrX8kJcdaH+Lg+Z5OtC8CLGv18H0Uya5zpDag5D0s2ZVncsB53BU2Nzg5cXnbfC3oUWPyemfTW6mXULI9FrXlUeQyaL8Ro7nwZc7U6UAsGXMQ8hPrflhLkmREe2Muuc+yCjMz1XhGeQMFjlpHgDSM+cXrYLNNxJ1SYS+V/XpbMhoxhD8VEvQIIUwEcMqyoD7mFySQtzX3N6j8KWBsIHCoLThfX0ggCgbCZA2md5wS80QpYkXQ4GdgwEcQ5003je/AH+oMn86QMaO9LrztVrC4zoBziKngsxEbGYdT/c/eqy/jeea9gu0oZENw7vqIJFVNQLmRAeR1NDIEtTyYPOXUaPP7nX42aJIC0dObWtVbEp2E3LTMNtiVMGBQjU0v+/xUWOra8aNPnl4QXgqDXQuOhDqU6wm1MV9pixF5RSAQGTWhbFSTy918aVtnPiDg9HIAfYEKSFNMA48gspIDOIHXK7xWK3aFVeH8CJoGjtyNfUfUO2/oPh15PrYOtOl2RP/rMsR1mHidpE4mT6zFROvcWHiL/wqUiQ+RSCOT0DOWYJPMDyKNjqefsUnqM9jOyLNHNnQ1krhE3hqTkA5Kx4T5XrFYw4QjuksRHkUzCgKw1tzEMuSHdhVBlCflzkR0+2SpSmMZZmXbseyMKLAAQDgaIgJPBkLreCwwD5RYMEqZmyVChUAYPVVUTaD5MXn8zcC9wFbpZ2RCqYbhE2HUdQMhJyiZyaXzxNM9wybLmbfh9i+rYM5ALJ/XniqMImetgsJ1HO+C/ZVikFIFoIwK4IKKxrSYos41cxFqO0JGfpk0jBJEiFSBsad3JkDQ14Vob4tDkrg7M2LILR4Hd8nFqkJceE0Pl8aZbc02ejGjWzHwd0hfu03HE6lBFcBjrkbxxyMs7YWFOCY75gd4icu/Nkd81hhBC2myoUrSQj4aLI+mwf79jMJtVk6XBh/q8dg1cpx9cwdaEzzGqdvf195x6XW3jco4wtKLDF5d4lV1co9upT2WInF91gKUxrsqkN5UBtfh78BLbSeZWMjzYgAAAAASUVORK5CYII=')","url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAADAFBMVEUAAAD////////////////////////////////////++/v////////////////////////////////////////////////////////////////////vAwP////////////////////////////////////////////////////zBATICgr////////////////////dBATFBATqAwPRCgrqDAzXDw/oHR36iIj64OD////95OT//////////////////f3////////jBQXXBgbBBQXNEhLFERHdFBT0GBjbGBjUFBTaJCT1JCTTPT32QEDhQEDqSkrbSUnYUlL0bW3wp6f4s7Pvubn//////Pz////yo6P////////////TAgLSBwfnBgbzCQntCQm6CAjxDQ3cCAjvGBjQHBzAHBy7EBDgKCjwODjuJSXtOjriVFTbWFjSV1f0T0/abm7zYmLjdnbfPT3mjo7nbW30sLDyycn66en75+f40NDpWVn8sLD31tb3xcX////4yMj////0oqL5x8f55eX88fH0wMD55ub+6+vwdHTzwMDfQkL////+8vLuq6v98vL209PvsbH88PDvwcHoh4f539/ohYXvoKDMGxvVKSnRLCzqJCT1MzPyNDTFJSXOQkLrFRXgTEzOS0voDg7oQEDlW1vXKirMEhLXYmLYZGTha2vqGxvTMzPUQkLsh4fuLy/UJyfulpbqoaHrqqrXODj6enrreXn2oKDwu7vehYXehYXVMzPuvLzLHh7oVFTmRkb519fQLCzpICDPWVn6mJjzt7f3goLNT0/4o6P0cnLkdHT32tr5wcH239/toaHtQkLtwcH0r6/jfn7uVFT80dH0w8PafX33np7NODj++/v0zs7hd3fvXl784ODuVlb99fX85ubbaGj71dXIAADLAADCAADpAAC6AADfAADQAADkAADaAADXAAC/AADFAADmAAC3AAC1AADcAADrAAC8AADwAADtAADhAADNAADUAADuAADSAADyAABVO9ozAAAA5nRSTlMAAhAIBB4xBjoSGgxkSTdDNVJPHGE8LywlCnJM/lhVRz4rIRaIXUAoIxT++pCNg3wi/v7++/r59sihlI9ubGpbUUYY/v39+fn49/f39PPt6+vp6ebX0a+ql3t3dWdZJv79/fz8/Pr69/b29u/u7uvm5ePi39/d3dfRzMnEvLu6sa6ppKGfnZybmZmWjYyHhICAfHdwaWJeSD4yMPby8fHv7uzr6ejo6Ofk4+Pi4eDf3dzZ2dbU09DQz8/OzcnIx8bGwsLBv769vLu7u7e3trW1r6mmpaKOjIqIh4aEg4N2dXNuaGdlT3CF9PkAAARHSURBVDjLZZRldNpQGIZDQkIIJLhDcVtXmUu9c3d3d3d3d3d3d3d3d/cChQLtWlrWdtsNbO3O2ffv3vOc93mTe+6F/hkGA4GNIgNqhBEmA/pvGKFhImxUilskUgMbUKH5F2GyEARhsWCUL1x0flEyZYDBCuwwizCAcGA2G+bAIkzw7kD+rpcRfBEc3iryMhGYQGNXryJQqWreQYejw/B5QgwlVq2ORQm2IkwxQBM99vXNCj2mTWwRmebwdGieQGLWFfM/YTKDXcGkGRZswCzvL85fSfGWzRo7EEBbx07/wuOv/HDtOY9vsyMMIOOgGNlm99XlPN7y25uGHa/uKNvsUJ/LSy2Sb4+3z1VRsTCLASGpUnLJkchnQh7vVe/0Gk16OuoMqO3tPpenI9vs3/I6mS/iMCC4PY87Pv/EEpVEsvR6L3/pSEfZjr6al9rgVMqy8a7DH1UyOwsiqKRpdTz3PqdgUq3yXA1nmiPfU/XUYlIq05mnlStzl6tDFZCcXDy8oPwjrq59LGWeuceZCZoPmMnFDbG4eVa/QL8XAj0MYUlPa/vqtuDiqF1OxlyIBFDHUQuEVjvBN0/vH+hyi0ulQpKEkaV8dSe1xQlOKsWdWB9AaycmgpWRL57UN6gerOShUEqrHaW8tW8qLSIFLNPM3gt8jSuZpWwFgSc8WB9U14tW2SBhdAV3Tvejb1VyGNYLZg8B0MAZ7aRs2EbGnC4XzOscJbBCgqhyP9zenZVAKRGWNGOI35nZpJKYj6KUuNJQVzCvREmNHooo2SnDnVOzmSlJQpHKh9tynZn177dWURJN9KgKNFRZIwNQmawMt7fhOFOiOL7y6N7pfmfkmZZKcdvocY2yQlA7GuriyvqR4204emrLyWMGZafn+p2Nx0xuOfVKoyoZrgCAgC7Z1CPgAsKqdfcdG7G5a/Z3QJWuP6LZsD6l3AAqLFEywgqRCzaqXbSwoGz1GtXSvwPK7yxdvU55n9edkRUorGUSyiGLcqg6SAt9P/PTnH6ayvXTZxOG1A1itAaIz73RrZAWen0eR5ozNz07G0QBqMCb8yPLpW4aLyEgqyBuQ15hICT0ODKdubQQRHl++mioR3MzZodQXXzFznmFf4WZQBiKyqehjDKDF5JyDsSWRcxp8CsvSH8hENK1QCvnn1IVmnMpAoEUIrzthHq/wrUKAEULgY8u5a7StBUph5kQC26vVVas9W+tcBTwlWoUp8GMCANcO6NMGHOyFhAW1wpHVW04RYyjHCZ9gRUEJmhVsZ4a1ApTQEhHlW08hWuxgRsVego4IkyonNCgW5mivwWiqq0ZGSfWydk0E6YIWQp3TsW+5TpVoWulla7WtdegFq01uI2NFD8rCqMcFyTE3Wnav0LN8uV7rmty9slCsRZDQ64iCoFFeolQHB9jioqKMkW3Tmyn5cuNnD9McRhbZOXrtEJBhCBZxcOlttTiR/E3AYEOqmgNZcgAAAAASUVORK5CYII=')"];game.chosenGraphicsSet=-1;let s=$("<div class=\"\" style=\"position: relative; width: 44px; height: 44px; cursor: pointer; background-color: rgba(0, 0, 0, 0.3); background-repeat: no-repeat; background-position: center; display: none;\" id=\"graphicsSet\" cgs= \"-1\" title= \"Switch style between Imperial / Rebel / Random\" ></div > ").css("background-image","url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAC/VBMVEUAAAD////////////////////////+/v4LCwv///8ODg7//////////////////////////////v59fHz///////////////8VFRX5+fn//v7//v7///////8SEhL////////////++vr///8bGxsUFBQbGxsuLi7///////////8gICA0NDRcXFxAQED////////SCQkxMTEmJiZBQUFiYmKwsLDa2trOzs7q6uqlpaX////////9/f3////KCwsuLi47OjpUVFRQUFDhV1eBgYFsbGzupqa8vLzS0tLk5OTw8PDl5eX////////////79fXskpLxCgrbCQnOFxfZGRncFBT0GxsqKiraJyf1NzcgICBGRkbjQEDUPT3VVlZDQ0PYZWWHh4fqjo6hBQVHR0f09PTBCgryvb3R0dH43d31xcX+5uY5OTn////uAwPDERG6Cgq/FxfVDw/aIiJPT0/eTEzJHBw5OTncdHR0dHSCgoLULS3WPT1RUVGvAgJ0dHS+vr7ExMTyycn7h4fTLy/sJCT75+fOVFRra2vmenqgoKCampr55ub88fH///+Tk5PY2NioqKjpenrGxsbzwMDQQUH4+PjvWlr209Pr6+v86urs7OzEDAzlDQ3mICDOS0vXKirha2v2YWEzMzODg4PiRESTk5NcWlqhoaHBAgKmpqbreXnPFRXxsbGDg4OzDg5qamrsb2/ehYXuvLzLHh61tbX67e3oVFTmRkZUVFTgVVX2zMy8Gxv6mJjzt7ewsLBpaWn30ND8sLDyra323991dXXtoaHtQkLdYGD////0r6+Ghob////xp6d8fHz56OhVVVXuVFT0w8PafX30zs7toqLrOzvKysrvtbXrnZ3hd3fa2tr1qqq7u7vorKz2trbbaGjtwcHwwcH71dXdfHz12Njzk5P85eUHBwcJCQncAADfAQHIAADtAADqAADmAADRAADiAADWAQHZAADMAADFAADDAQHAAQHxAADKAADOAQG6AADkAADTAQHFcXUqAAAA6XRSTlMAAgUJDzASwP4e/VozIUgYOl4s3VNAPDb6wGRQQiT7Pg1NHBX49/XockpF8u/m11Um/PLy7eHQx8PBiYFubGf58+/o5uXc3NLKycXDt5CHencx/Pv49/f29PHu7Ovq6eXi4drX08zCsKqmpZeOjCn++fj39vTp6Ojk3dzb2tbU09LNzMnJw8O8vLKwo52amZaVlJCNioeHenFwbWVi+/r16OPg3Nzb2NfW09PSz87Nzc3My8jGxsTDwsLAvr29vLu3trOxsa+sqaalo6KhoJqak5GMiIeDgX54eHh2cG9ubGZlYltPTkJCOwDD0BUAAARNSURBVDjLZZRldBNBFIXTrCfZjbunSZqkCVBKgQrFpS20FHd3d3d3d3d3d3d3d99NGwhV2sJhdgsFDu/fzPnOvfe8N294f1VICASHEiQhhiF+CO+/CuGKD6EEIlGqEBIFFFd/I3w+BEF8Pkyo9Y/HP9CrSRic2JsiDCAWGEVhGLaJFPeH5a++W1xkg7krC/Qb40OwmCBTU20EYp0/PC8r2GK+HiFsqakgHcoas0IgiUz0esF7GUKV61Q+PSv441wchfT4+HCRSIaUCIVCWDOURJRP9y/4oDYs7TqxJYAGTOy61KD+tGjCnRdClREFUnwLIaKeDBz/1mB4M2ng4Or1siKqt218+JVS9e7SrshpQgkJ83mQGHEvHlZ+rt7gude7oFfLeln1q9TPrDvXYKa6ygVh8xQiMcSDSxh0R/OHL7aqVC8n9cnNKZ8XEZHR4NBziTqmhtaHjyjnMcI8sVp4o29wis6DIJRrb6+c9Lz8YN1ttSmkO16yaiXcMVUoEvOMVO0NGX0v6swlSLV0RuucbJC8ygydpLsGZxh7I1OxJUqShwivNsjo10knIUKNVMq+5dnpeRE7Yq3dffKSDNOsdEnHHLeMpyq3x5/Zr1O8xGYRq3VdWgCo8Zlyt33RmFzAVNJWxScrRDxPSvM0f/2TLqUNQmXC6azfgC435VptmTYavGJiDUExoYRnTV6Z5q/bNtZqhNEeiluDc7PTq3TrHF22akUBY6qGlQ1vKjXzFLVWfE3zV+kCQhEioJSbk31ZGjtKQ9MMw1TGaoY5pEpe8Vpfvqf5G1RPFqrUbtf5VQW5HWXW2q1oDiqlrTlIIDUA6PMXINX8WHK8Lm7m2D4FHW2I+3+oDqD8mc3HXp955WDLgo4IohTGVjP9Y6dPbviZNcxovKZ62xa9j+v0emlK5+gxci/+JzgV26Qna5iZEVGvfG67TbMXLpy9O1KOdWBbUCpxNNcCpWttzwBnGMxPb0ebvKc6e020JiqJbWZ/7VDmNGimWneiTiDwmTUMtmNAkhoJApBa4BtaOBYNO5Yeim5NvgUCrOFIwND2MtGNaFA4N+AKhQMmzHHj6nxjDUcyrJA3CWuG01xVkFdiNNxTQWWsFKC2V2QAJeiPYVECDokq3cHHFD46CyGJP9vwW2ACNrqyhmFwr3x9RaBkKlUaw4qeLx8tQbnGNdwSVQZLqlrKXmjk8A5JxBKH4OG/FiEECpXpU6aEMa0OaLHoNpHACrfLy2BYjcp002tCM7dSYKfEiLV4zDrGOapsknazTyOotFHboezOcDpsltDMLSe7nRabUaJ/dsTBOKO2JiRE2scklK4WTpvaP1KoAAOEOApCSREljGnvxBlnBQHeKJxmHMVmSd1qYyHzmyJkKuuymAvtw5xOuzOy2OSYZXozQqBFDKCAZSiJqCiFND7O5YqLlxZ3mxGjGP798RSJwWJSJpIoPRTlMahEMvKvT/En4U+imSkuVtwAAAAASUVORK5CYII=')").click(function(){if(2==game.gameType)return;let t=parseInt($(s).attr("cgs"));t++,2==t&&(t=-1),$(s).attr("cgs",t),game.chosenGraphicsSet=t,$(s).css("background-image",e[t+1]);let a=Players.getMe();null!=a&&(a.destroy(!1),a.setupGraphics(!0),a.visibilityUpdate(!0));UI.aircraftSelected(a.type)});$("#sidebar").prepend(s)},StarMash_2.aircraftSelected=function(){for(var e=0==game.myGraphicsSet?"teamImperial":"teamRebel",s=1;5>=s;s++)$("#selectaircraft-"+s).removeClass("teamImperial").removeClass("teamRebel").addClass(e);StarMash_2.updateShipNames()},StarMash_2.updateShipNames=function(){let e={1:["X-Wing"],2:["B-Wing"],3:["A-Wing"],4:["Y-Wing"],5:["Scout ship"],101:["Speed"],102:["Deflector Shields"],103:["Energy Regen"],104:["Laser Speed"]},s={1:["Tie Fighter"],2:["Tie Bomber"],3:["Tie Interceptor"],4:["Tie Advanced"],5:["Tie Phantom"],101:["Speed"],102:["Deflector Shields"],103:["Energy Regen"],104:["Laser Speed"]};for(var t in game.tooltipValues)game.tooltipValues[t][0]=0==game.myGraphicsSet?s[t][0]:e[t][0]},StarMash_2.mobAdded=function(e,s,t){let a=Mobs.get(e.id),r=-1<$.inArray(a.type,[1,2,3,5,6,7]);if(r){if(t){var i=Players.get(t);if(0==i.graphicsSet);else{var o=new PIXI.filters.ColorMatrixFilter;o.hue(-110),a.sprites.sprite.filters=[o]}}else if(0==game.myGraphicsSet){var o=new PIXI.filters.ColorMatrixFilter;o.hue(-110),a.sprites.sprite.filters=[o]}a.sprites.thruster.alpha=0,a.sprites.thrusterGlow.alpha=1,a.sprites.smokeGlow.alpha=0,2==a.type?a.sprites.sprite.scale.set(.3,.4):3==a.type&&a.sprites.sprite.scale.set(.56,.4)}},StarMash_2.onScoreboardUpdate=function(){let e=SWAM.getLeaders();forEachPlayer(s=>{let t="",a="",r=s.sprites.sprite;1==s.type&&(0==s.graphicsSet?(a=Textures.get("raptor"),t=Textures.get("sith_Infiltrator")):(a=Textures.get("raptor_2"),t=Textures.get("black_Xwing")),e[s.id]?r.texture!=t&&(r.texture=t):r.texture!=a&&(r.texture=a))})},StarMash_2.overridePlayerMethods=function(e){e.setGraphicsSet=function(){this.graphicsSet=2==game.gameType?this.team-1:this.id==game.myID&&-1!=game.chosenGraphicsSet?game.chosenGraphicsSet:Tools.randInt(0,1),this.id==game.myID&&(game.myGraphicsSet=this.graphicsSet)},e.setupThrusterColor=function(){var e=new PIXI.filters.ColorMatrixFilter,s=new PIXI.filters.ColorMatrixFilter;0==this.graphicsSet?e.hue(-20):(s.saturate(1,!0),e.hue(165)),this.sprites.thruster&&(this.sprites.thruster.filters=[s,e]),this.sprites.thruster1&&(this.sprites.thruster1.filters=[s,e]),this.sprites.thruster2&&(this.sprites.thruster2.filters=[s,e])},e.setupGraphics=function(s){this.setGraphicsSet();var e=0==this.graphicsSet?"":"_2",a=null;switch(this.me()&&(a={layer:"aircraftme"}),this.sprites.powerup=Textures.init("powerupShield",{visible:!1,alpha:.75}),this.sprites.powerupCircle=Textures.init("powerupCircle",{visible:!1,alpha:.75}),this.type){case 1:this.state.baseScale=.25,this.state.nameplateDist=60,this.sprites.sprite=Textures.init("shipRaptor"+e,a),this.sprites.shadow=Textures.init("shipRaptorShadow"+e,{scale:this.state.baseScale*(2.4/config.shadowScaling)}),this.sprites.thruster=Textures.init("shipRaptorThruster"+e),this.sprites.thrusterGlow=Textures.init("thrusterGlowSmall"),this.sprites.thrusterShadow=Textures.init("thrusterShadow");break;case 2:this.state.baseScale=.35,this.state.nameplateDist=60,this.sprites.sprite=Textures.init("shipSpirit"+e,a),this.sprites.shadow=Textures.init("shipSpiritShadow"+e,{scale:this.state.baseScale*(2.4/config.shadowScaling)}),this.sprites.thruster1=Textures.init("shipRaptorThruster"+e),this.sprites.thruster2=Textures.init("shipRaptorThruster"+e),this.sprites.thruster1Glow=Textures.init("thrusterGlowSmall"),this.sprites.thruster2Glow=Textures.init("thrusterGlowSmall"),this.sprites.thruster1Shadow=Textures.init("thrusterShadow"),this.sprites.thruster2Shadow=Textures.init("thrusterShadow");break;case 3:this.state.baseScale=.25,this.state.nameplateDist=60,this.sprites.sprite=Textures.init("shipComanche"+e,a),this.sprites.rotor=Textures.init("shipComancheRotor"+e,a),this.sprites.shadow=Textures.init("shipComancheShadow"+e,{scale:this.state.baseScale*(2.4/config.shadowScaling)}),this.sprites.rotorShadow=Textures.init("shipComancheRotorShadow"+e,{scale:2*this.state.baseScale*(2.4/config.shadowScaling)});break;case 4:this.state.baseScale=.28,this.state.nameplateDist=60,this.sprites.sprite=Textures.init("shipTornado"+e,a),this.sprites.shadow=Textures.init("shipTornadoShadow"+e,{scale:this.state.baseScale*(2.4/config.shadowScaling)}),this.sprites.thruster1=Textures.init("shipRaptorThruster"+e),this.sprites.thruster2=Textures.init("shipRaptorThruster"+e),this.sprites.thruster1Glow=Textures.init("thrusterGlowSmall"),this.sprites.thruster2Glow=Textures.init("thrusterGlowSmall"),this.sprites.thruster1Shadow=Textures.init("thrusterShadow"),this.sprites.thruster2Shadow=Textures.init("thrusterShadow");break;case 5:this.state.baseScale=.28,this.state.nameplateDist=60,this.sprites.sprite=Textures.init("shipProwler"+e,a),this.sprites.shadow=Textures.init("shipProwlerShadow"+e,{scale:this.state.baseScale*(2.4/config.shadowScaling)}),this.sprites.thruster1=Textures.init("shipRaptorThruster"+e),this.sprites.thruster2=Textures.init("shipRaptorThruster"+e),this.sprites.thruster1Glow=Textures.init("thrusterGlowSmall"),this.sprites.thruster2Glow=Textures.init("thrusterGlowSmall"),this.sprites.thruster1Shadow=Textures.init("thrusterShadow"),this.sprites.thruster2Shadow=Textures.init("thrusterShadow");}if("function"==typeof window.Glow&&Glow(this),this.setupThrusterColor(),(this.reel||s||(this.setupNameplate(),this.setupChatBubbles(),null!=this.level&&this.setupLevelPlate()),config.debug.collisions)){this.col=new PIXI.Graphics;for(var r of config.ships[this.type].collisions)this.col.beginFill(16777215,.2),this.col.drawCircle(r[0],r[1],r[2]),this.col.endFill();game.graphics.layers.explosions.addChild(this.col)}},e.reteam=function(s){var e=this.team;this.team=s,this.sprites.name.style=new PIXI.TextStyle(this.nameplateTextStyle()),UI.changeMinimapTeam(this.id,this.team),e!=this.team&&(this.destroy(!1),this.setupGraphics(!0),this.visibilityUpdate(!0))},e.updateGraphics=function(){var e=Tools.oscillator(.025,1e3,this.randomness)*this.scale,t=1.5*this.state.thrustLevel,n=this.rot,r=Graphics.shadowCoords(this.pos);if(Graphics.transform(this.sprites.sprite,this.pos.x,this.pos.y,n,e*this.state.baseScale,e*this.state.baseScale),Graphics.transform(this.sprites.shadow,r.x,r.y,n,this.state.baseScale*(2.4/config.shadowScaling)*this.scale,this.state.baseScale*(2.4/config.shadowScaling)*this.scale),this.powerupActive){var i=.35*(0==this.state.powerupFadeState?2*(1-this.state.powerupFade)+1:1-this.state.powerupFade)*Tools.oscillator(.075,100,this.randomness),o=.75*(0==this.state.powerupFadeState?Tools.clamp(2*this.state.powerupFade,0,1):Tools.clamp(1-1.3*this.state.powerupFade,0,1))*this.alpha;Graphics.transform(this.sprites.powerup,this.pos.x,this.pos.y-80,0,i,i,o),Graphics.transform(this.sprites.powerupCircle,this.pos.x,this.pos.y-80,this.state.powerupAngle,1.35*i,1.35*i,o)}var s=Tools.oscillator(.1,.5,this.randomness),p=.01>Math.abs(this.state.thrustLevel)?0:this.state.thrustLevel/2+(0<this.state.thrustLevel?.5:-.5),l=Tools.clamp(2*Math.abs(this.state.thrustLevel)-.1,0,1);if(0==this.graphicsSet)switch(this.type){case 1:Graphics.transform(this.sprites.thruster,this.pos.x+Math.sin(-n)*(5*e),this.pos.y+Math.cos(-n)*(5*e),n+(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.5*s*p*this.scale,l),this.sprites.thruster.alpha=.05,Graphics.transform(this.sprites.thrusterGlow,this.pos.x+Math.sin(-n-.5*this.state.thrustDir)*(40*e),this.pos.y+Math.cos(-n-.5*this.state.thrustDir)*(40*e),null,1.5*t*this.scale,1*t*this.scale,.3*this.state.thrustLevel);break;case 2:0>this.state.thrustLevel&&(s*=.7),Graphics.transform(this.sprites.thruster1,this.pos.x+Math.sin(-n-.5)*(15*e),this.pos.y+Math.cos(-n-.5)*(15*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.4*s*p*this.scale,.6*s*p*this.scale,l),Graphics.transform(this.sprites.thruster2,this.pos.x+Math.sin(.5-n)*(15*e),this.pos.y+Math.cos(.5-n)*(15*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.4*s*p*this.scale,.6*s*p*this.scale,l),Graphics.transform(this.sprites.thruster1Shadow,r.x+Math.sin(-n-.5)*(10*e)/config.shadowScaling,r.y+Math.cos(-n-.5)*(10*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.5*s*p*this.scale*(4/config.shadowScaling),.6*s*p*this.scale*(4/config.shadowScaling),l/2.5),Graphics.transform(this.sprites.thruster2Shadow,r.x+Math.sin(.5-n)*(10*e)/config.shadowScaling,r.y+Math.cos(.5-n)*(10*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.5*s*p*this.scale*(4/config.shadowScaling),.6*s*p*this.scale*(4/config.shadowScaling),l/2.5),Graphics.transform(this.sprites.thruster1Glow,this.pos.x+Math.sin(-n-.3)*(50*e),this.pos.y+Math.cos(-n-.3)*(50*e),null,2.5*this.scale,1.5*this.scale,.3*this.state.thrustLevel),Graphics.transform(this.sprites.thruster2Glow,this.pos.x+Math.sin(.3-n)*(50*e),this.pos.y+Math.cos(.3-n)*(50*e),null,2.5*this.scale,1.5*this.scale,.3*this.state.thrustLevel);break;case 3:Graphics.transform(this.sprites.rotor,this.pos.x,this.pos.y,this.state.thrustDir,2*(e*this.state.baseScale),2*(e*this.state.baseScale),.8),Graphics.transform(this.sprites.rotorShadow,r.x,r.y,this.state.thrustDir,2*(this.state.baseScale*(2.4/config.shadowScaling)*this.scale),2*(this.state.baseScale*(2.4/config.shadowScaling)*this.scale));break;case 4:0>this.state.thrustLevel&&(s*=.7),Graphics.transform(this.sprites.thruster1,this.pos.x+Math.sin(-n-.25)*(5*e),this.pos.y+Math.cos(-n-.25)*(5*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.5*s*p*this.scale,l),Graphics.transform(this.sprites.thruster2,this.pos.x+Math.sin(.25-n)*(5*e),this.pos.y+Math.cos(.25-n)*(5*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.5*s*p*this.scale,l),Graphics.transform(this.sprites.thruster1Shadow,r.x+Math.sin(-n-.15)*(28*e)/config.shadowScaling,r.y+Math.cos(-n-.15)*(28*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale*(4/config.shadowScaling),.5*s*p*this.scale*(4/config.shadowScaling),l/2.5),Graphics.transform(this.sprites.thruster2Shadow,r.x+Math.sin(.15-n)*(28*e)/config.shadowScaling,r.y+Math.cos(.15-n)*(28*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale*(4/config.shadowScaling),.5*s*p*this.scale*(4/config.shadowScaling),l/2.5),Graphics.transform(this.sprites.thruster1Glow,this.pos.x+Math.sin(-n-.2)*(45*e),this.pos.y+Math.cos(-n-.2)*(45*e),null,2.5*this.scale,1.5*this.scale,.25*this.state.thrustLevel),Graphics.transform(this.sprites.thruster2Glow,this.pos.x+Math.sin(.2-n)*(45*e),this.pos.y+Math.cos(.2-n)*(45*e),null,2.5*this.scale,1.5*this.scale,.25*this.state.thrustLevel);break;case 5:0>this.state.thrustLevel&&(s*=.7),Graphics.transform(this.sprites.thruster1,this.pos.x+Math.sin(-n-.35)*(20*e),this.pos.y+Math.cos(-n-.35)*(20*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.4*s*p*this.scale,l*this.alpha),Graphics.transform(this.sprites.thruster2,this.pos.x+Math.sin(.35-n)*(20*e),this.pos.y+Math.cos(.35-n)*(20*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.4*s*p*this.scale,l*this.alpha),Graphics.transform(this.sprites.thruster1Shadow,r.x+Math.sin(-n-.35)*(20*e)/config.shadowScaling,r.y+Math.cos(-n-.35)*(20*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.4*s*p*this.scale*(4/config.shadowScaling),.4*s*p*this.scale*(4/config.shadowScaling),l*this.alpha/2.5),Graphics.transform(this.sprites.thruster2Shadow,r.x+Math.sin(.35-n)*(20*e)/config.shadowScaling,r.y+Math.cos(.35-n)*(20*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.4*s*p*this.scale*(4/config.shadowScaling),.4*s*p*this.scale*(4/config.shadowScaling),l*this.alpha/2.5),Graphics.transform(this.sprites.thruster1Glow,this.pos.x+Math.sin(-n-.2-0*this.state.thrustDir)*(35*e),this.pos.y+Math.cos(-n-.2-0*this.state.thrustDir)*(35*e),null,2.5*this.scale,1.5*this.scale,.2*this.state.thrustLevel*this.alpha),Graphics.transform(this.sprites.thruster2Glow,this.pos.x+Math.sin(.2-n-0*this.state.thrustDir)*(35*e),this.pos.y+Math.cos(.2-n-0*this.state.thrustDir)*(35*e),null,2.5*this.scale,1.5*this.scale,.2*this.state.thrustLevel*this.alpha);}else switch(this.type){case 1:Graphics.transform(this.sprites.thruster,this.pos.x+Math.sin(-n)*(20*e),this.pos.y+Math.cos(-n)*(20*e),n+(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.5*s*p*this.scale,l),Graphics.transform(this.sprites.thrusterShadow,r.x+Math.sin(-n)*(20*e)/config.shadowScaling,r.y+Math.cos(-n)*(20*e)/config.shadowScaling,n+(0<this.state.thrustLevel?this.state.thrustDir:0),.4*s*p*this.scale*(4/config.shadowScaling),.5*s*p*this.scale*(4/config.shadowScaling),l/2.5),Graphics.transform(this.sprites.thrusterGlow,this.pos.x+Math.sin(-n-.5*this.state.thrustDir)*(40*e),this.pos.y+Math.cos(-n-.5*this.state.thrustDir)*(40*e),null,1.5*t*this.scale,1*t*this.scale,.3*this.state.thrustLevel),this.sprites.thruster.scale.x=this.sprites.thruster.scale.y=.25;break;case 2:0>this.state.thrustLevel&&(s*=.7),Graphics.transform(this.sprites.thruster2,this.pos.x+Math.sin(.8-n)*(50*e),this.pos.y+Math.cos(.8-n)*(50*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.4*s*p*this.scale,.6*s*p*this.scale,l),Graphics.transform(this.sprites.thruster2Shadow,r.x+Math.sin(.5-n)*(32*e)/config.shadowScaling,r.y+Math.cos(.5-n)*(32*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.5*s*p*this.scale*(4/config.shadowScaling),.6*s*p*this.scale*(4/config.shadowScaling),l/2.5),Graphics.transform(this.sprites.thruster2Glow,this.pos.x+Math.sin(.3-n)*(50*e),this.pos.y+Math.cos(.3-n)*(50*e),null,2.5*this.scale,1.5*this.scale,.3*this.state.thrustLevel),this.sprites.thruster1.visible=!1,this.sprites.thruster1Glow.visible=!1,this.sprites.thruster1Shadow.visible=!1;break;case 3:Graphics.transform(this.sprites.rotor,this.pos.x,this.pos.y,this.state.thrustDir,2*(e*this.state.baseScale),2*(e*this.state.baseScale),.8),Graphics.transform(this.sprites.rotorShadow,r.x,r.y,this.state.thrustDir,2*(this.state.baseScale*(2.4/config.shadowScaling)*this.scale),2*(this.state.baseScale*(2.4/config.shadowScaling)*this.scale));break;case 4:0>this.state.thrustLevel&&(s*=.7),Graphics.transform(this.sprites.thruster1,this.pos.x+Math.sin(-n-1)*(20*e),this.pos.y+Math.cos(-n-1)*(20*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.5*s*p*this.scale,l),Graphics.transform(this.sprites.thruster2,this.pos.x+Math.sin(1-n)*(20*e),this.pos.y+Math.cos(1-n)*(20*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.5*s*p*this.scale,l),Graphics.transform(this.sprites.thruster1Shadow,r.x+Math.sin(-n-.15)*(28*e)/config.shadowScaling,r.y+Math.cos(-n-.15)*(28*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale*(4/config.shadowScaling),.5*s*p*this.scale*(4/config.shadowScaling),l/2.5),Graphics.transform(this.sprites.thruster2Shadow,r.x+Math.sin(.15-n)*(28*e)/config.shadowScaling,r.y+Math.cos(.15-n)*(28*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale*(4/config.shadowScaling),.5*s*p*this.scale*(4/config.shadowScaling),l/2.5),Graphics.transform(this.sprites.thruster1Glow,this.pos.x+Math.sin(-n-.2)*(45*e),this.pos.y+Math.cos(-n-.2)*(45*e),null,2.5*this.scale,1.5*this.scale,.25*this.state.thrustLevel),Graphics.transform(this.sprites.thruster2Glow,this.pos.x+Math.sin(.2-n)*(45*e),this.pos.y+Math.cos(.2-n)*(45*e),null,2.5*this.scale,1.5*this.scale,.25*this.state.thrustLevel),this.sprites.thruster1.scale.x=this.sprites.thruster1.scale.y=.35,this.sprites.thruster2.scale.x=this.sprites.thruster2.scale.y=.35;break;case 5:0>this.state.thrustLevel&&(s*=.7),Graphics.transform(this.sprites.thruster1,this.pos.x+Math.sin(-n-.3)*(20*e),this.pos.y+Math.cos(-n-.35)*(20*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.4*s*p*this.scale,l*this.alpha),Graphics.transform(this.sprites.thruster2,this.pos.x+Math.sin(.3-n)*(20*e),this.pos.y+Math.cos(.35-n)*(20*e),n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.3*s*p*this.scale,.4*s*p*this.scale,l*this.alpha),Graphics.transform(this.sprites.thruster1Shadow,r.x+Math.sin(-n-.35)*(20*e)/config.shadowScaling,r.y+Math.cos(-n-.35)*(20*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.4*s*p*this.scale*(4/config.shadowScaling),.4*s*p*this.scale*(4/config.shadowScaling),l*this.alpha/2.5),Graphics.transform(this.sprites.thruster2Shadow,r.x+Math.sin(.35-n)*(20*e)/config.shadowScaling,r.y+Math.cos(.35-n)*(20*e)/config.shadowScaling,n+.5*(0<this.state.thrustLevel?this.state.thrustDir:0),.4*s*p*this.scale*(4/config.shadowScaling),.4*s*p*this.scale*(4/config.shadowScaling),l*this.alpha/2.5),Graphics.transform(this.sprites.thruster1Glow,this.pos.x+Math.sin(-n-.2-0*this.state.thrustDir)*(35*e),this.pos.y+Math.cos(-n-.2-0*this.state.thrustDir)*(35*e),null,2.5*this.scale,1.5*this.scale,.2*this.state.thrustLevel*this.alpha),Graphics.transform(this.sprites.thruster2Glow,this.pos.x+Math.sin(.2-n-0*this.state.thrustDir)*(35*e),this.pos.y+Math.cos(.2-n-0*this.state.thrustDir)*(35*e),null,2.5*this.scale,1.5*this.scale,.2*this.state.thrustLevel*this.alpha);}this.updateNameplate(),this.state.bubble&&this.updateBubble(),config.debug.collisions&&this.col&&(this.col.position.set(this.pos.x,this.pos.y),this.col.rotation=this.rot)},e.resetGraphics=function(){try{this.destroy(!1),this.setupGraphics(!0),this.visibilityUpdate(!0)}catch(s){}},e.resetGraphics(),e.me()&&UI.aircraftSelected(e.type)},StarMash_2.prototype.injectTextures=function(e,s,t,a){for(let o in e)if(!e[o].startsWith("http")){var r=e[o];r=r.replace("assets/",""),-1<r.indexOf("?")&&(r=r.substr(0,r.indexOf("?"))),e[o]=getFilePath("themes/StarMash_2/"+r)}var o={map_forest_mask:getFilePath("themes/StarMash_2/map_forest_mask.jpg"),asteroids1:getFilePath("themes/StarMash_2/asteroids/asteroids1.png"),asteroids2:getFilePath("themes/StarMash_2/asteroids/asteroids2.png"),asteroids3:getFilePath("themes/StarMash_2/asteroids/asteroids3.png")};for(let r in o)e[r]=o[r];var n={ui_minimap_1:["gui",[500,596,16,16]],ui_minimap_2:["gui",[516,596,16,16]],ui_minimap_3:["gui",[532,596,16,16]],ui_minimap_target:["gui",[580,596,16,16]],spirit_2:["aircraft",[4,260,512,256]],tornado_2:["aircraft",[524,260,256,256]],raptor_2:["aircraft",[788,260,256,256]],prowler_2:["aircraft",[1052,260,256,256]],comanche_2:["aircraft",[1316,260,128,256]],sith_Infiltrator:["aircraft",[1540,4,256,256]],black_Xwing:["aircraft",[1540,260,256,256]],spirit_shadow_2:["shadows",[4,200,256,128]],tornado_shadow_2:["shadows",[268,200,128,128]],raptor_shadow_2:["shadows",[540,200,128,128]],prowler_shadow_2:["shadows",[676,200,128,128]],comanche_shadow_2:["shadows",[812,200,64,128]]};for(let r in n)s[r]=n[r];var l={minimap1:{texture:"ui_minimap_1",layer:"ui2",anchor:[.5,.5],alpha:1,scale:.8},minimap2:{texture:"ui_minimap_2",layer:"ui2",anchor:[.5,.5],alpha:1,scale:.8},minimap3:{texture:"ui_minimap_3",layer:"ui2",anchor:[.5,.5],alpha:1,scale:.8},minimapTarget:{texture:"ui_minimap_target",layer:"ui3",anchor:[.5,.5],alpha:1,scale:.5},shipRaptor_2:{texture:"raptor_2",layer:"aircraft",anchor:[.5,.6]},shipRaptorShadow_2:{texture:"raptor_shadow_2",layer:"shadows",anchor:[.5,.57]},shipRaptorThruster_2:{texture:"afterburner",layer:"thrusters",anchor:[.5,.1],scale:[.25,.25]},shipSpirit_2:{texture:"spirit_2",layer:"aircraft",anchor:[.5,.5]},shipSpiritShadow_2:{texture:"spirit_shadow_2",layer:"shadows",anchor:[.5,.5]},shipSpiritThruster_2:{texture:"afterburner",layer:"thrusters",anchor:[.5,.1],scale:[.25,.25]},shipComanche_2:{texture:"comanche_2",layer:"aircraft",anchor:[.5,.4]},shipComancheShadow_2:{texture:"comanche_shadow_2",layer:"shadows",anchor:[.5,.43]},shipComancheRotor_2:{texture:"comanche_rotor",layer:"aircraft",anchor:[.5,.5],scale:[.25,.25]},shipComancheRotorShadow_2:{texture:"comanche_rotor_shadow",layer:"shadows",anchor:[.5,.5]},shipTornado_2:{texture:"tornado_2",layer:"aircraft",anchor:[.5,.65]},shipTornadoShadow_2:{texture:"tornado_shadow_2",layer:"shadows",anchor:[.5,.605]},shipProwler_2:{texture:"prowler_2",layer:"aircraft",anchor:[.5,.5]},shipProwlerShadow_2:{texture:"prowler_shadow_2",layer:"shadows",anchor:[.5,.5]}};for(let r in l)a[r]=l[r];a.missile.scale=[.3,.3],a.missileFat.scale=[.2,.3],a.missileSmall.scale=[20,20]},StarMash_2.prototype.loadGameModules=function(){loadGraphics_SWAM(),loadSounds_SWAM()};function StarMash_1(){SWAM.replaceCSS(getFilePath("style.css"));let e=new SettingsProvider({nebulas:{blue:!0,green:!0,red:!0}},function(e){let s=e;game.graphics.layers.map.children[0].alpha=.8,game.graphics.layers.map.children[0].visible=s.nebulas.blue,game.graphics.layers.map.children[2].alpha=.8,game.graphics.layers.map.children[2].visible=s.nebulas.green,game.graphics.layers.map.children[4].alpha=.8,game.graphics.layers.map.children[4].visible=s.nebulas.red,Graphics.renderBackground()});e.root="",e.title="Mod Settings";let s=e.addSection("General");s.addBoolean("nebulas.blue","Blue nebulas"),s.addBoolean("nebulas.green","Green nebulas"),s.addBoolean("nebulas.red","Red nebulas"),this.settingsProvider=e}StarMash_1.themeName="StarMash v.1, no Parallax",StarMash_1.author="Bombita",StarMash_1.version=SWAM_version,StarMash_1.prototype.start=function(){SWAM.BackgroundFactor=1,SWAM.MoveBackgroundTiles=!0,config.overdraw=256,config.overdrawOptimize=!0,game.graphics.layers.shadows.visible=!1,game.graphics.layers.smoke.visible=!1,StarMash_2.addGraphicsSetButton(),SWAM.on("playerAdded",StarMash_2.overridePlayerMethods),SWAM.on("mobAdded",StarMash_2.mobAdded),SWAM.on("scoreboardUpdate",StarMash_2.onScoreboardUpdate),SWAM.on("aircraftSelected",StarMash_2.aircraftSelected),SWAM.Theme.settingsProvider.apply(SWAM.Settings)},StarMash_1.prototype.injectTextures=StarMash_2.prototype.injectTextures,StarMash_1.prototype.loadGameModules=StarMash_2.prototype.loadGameModules;class VanillaTheme{constructor(){let e=this;this.teamColors={0:{player:16777215,mob:16777215},1:{player:10539263,mob:5592575},2:{player:16756912,mob:16733525}};let s=new SettingsProvider({map:{sea:!0,forest:!0,sand:!0,rock:!0,polygons:!0},layers:{shadows:!0,smoke:!0},gameplay:{colorMissiles:!0,colorPlayers:!0}},function(s){e.settings=s;let t=s,a=game.graphics.layers.sea,r=a.children[1],i=game.graphics.layers.map,o=i.children[0],n=i.children[1],l=i.children[3],p=i.children[6];if(t&&t.map){function e(){p=i.children[6],t.map.polygons?(p.visible=!0,i.mask=p):(i.mask=null,p.visible=!1)}if(r.visible=t.map.sea,o.visible=t.map.forest,a.visible=!t.map.forest||t.map.polygons,n.visible=t.map.sand,l.visible=t.map.rock,p)e();else{let s=setInterval(function(){game.graphics.layers.map.children[6]&&(clearInterval(s),e())},200)}}t&&t.layers&&(game.graphics.layers.shadows.visible=t.layers.shadows,game.graphics.layers.smoke.visible=t.layers.smoke,Particles.missileSmoke=t.layers.smoke&&Particles._missileSmoke?Particles._missileSmoke:function(){}),forEachPlayer(s=>{e.tintPlayer(s)})});s.root="",s.title="Mod Settings";let t=s.addSection("Background");t.addBoolean("map.sea","Sea depth"),t.addBoolean("map.forest","Forest"),t.addBoolean("map.sand","Sand"),t.addBoolean("map.rock","Rocks"),t.addBoolean("map.polygons","Continents"),t.addBoolean("layers.shadows","Shadows"),t.addBoolean("layers.smoke","Missile's Smoke"),t=s.addSection("Gameplay"),t.addBoolean("gameplay.colorMissiles","Use team colors for missiles."),t.addBoolean("gameplay.colorPlayers","Use team colors for players."),this.settingsProvider=s;const a=getFilePath("themes/HellMash/logon.jpg");$("#logon").css({background:`url(${a}) no-repeat center`})}start(){config.overdraw=256,config.overdrawOptimize=!0,Particles._missileSmoke=Particles.missileSmoke;var s=this;SWAM.on("playerAdded",function(t){"function"==typeof window.Glow&&Glow(t),s.tintPlayer(t);let a=t.setupGraphics;t.setupGraphics=function(r){a.call(t,r),"function"==typeof window.Glow&&Glow(t),s.tintPlayer(t)};let r=t.reteam;t.reteam=function(e){r.call(t,e),s.tintPlayer(t)}}),SWAM.on("mobAdded",this.tintMob.bind(this)),SWAM.on("mobsRepeled",(e,s)=>{if(this.settings.gameplay.colorMissiles&&game.gameType==SWAM.GAME_TYPE.CTF)for(let t of s){let s=e.team;t.sprites.sprite.tint=t.sprites.thruster.tint=this.teamColors[s].mob}}),SWAM.Theme.settingsProvider.apply(SWAM.Settings)}tintPlayer(e){e.sprites.sprite.tint=this.settings&&this.settings.gameplay.colorPlayers?game.gameType==SWAM.GAME_TYPE.CTF?this.teamColors[e.team].player:this.teamColors[0].player:this.teamColors[0].player}tintMob(e,s,t){if(!this.settings.gameplay.colorMissiles)return;let a=Mobs.get(e.id),r=[1,2,3,5,6,7].includes(a.type);if(r){if(game.gameType==SWAM.GAME_TYPE.CTF){let e=0;e=t?Players.get(t).team:1==Players.getMe().team?2:1,a.sprites.sprite.tint=a.sprites.thruster.tint=this.teamColors[e].mob}else a.sprites.sprite.tint=this.teamColors[0].mob;this.setMobScale(a)}}setMobScale(e){e.sprites.smokeGlow.alpha=0,2==e.type?e.sprites.sprite.scale.set(.3,.4):3==e.type?e.sprites.sprite.scale.set(.56,.4):e.sprites.sprite.scale.set(.3,.3)}injectTextures(){}injectSounds(){}loadGameModules(){loadGraphics_Default(),loadSounds_Default()}}VanillaTheme.themeName="Vanilla Theme",VanillaTheme.author="Bombita",VanillaTheme.version=SWAM_version;class StPatricksDay2018 extends VanillaTheme{constructor(){super(),$("#logon").css("backgroundColor","rgba(6, 51, 16, 0.75)")}injectTextures(e){const s=["map_forest.jpg","map_rock.jpg","map_sand.jpg","map_sea.jpg","aircraft.png"];for(let t in e){let a=getFileName(e[t]);s.includes(a)&&(e[t]=getFilePath("themes/StPatricksDay2018/"+a))}}}StPatricksDay2018.themeName="St. Patrick's Day 2018 Theme",StPatricksDay2018.description="A lucky theme for AirMash!!",StPatricksDay2018.author="Bombita";class PixelArt_8Bits extends VanillaTheme{constructor(){function e(e){let s=Math.round(30*e/2500)+"px",t=Math.round(25*e/2500)+"px";config.playerNameSize=s,config.playerLevelSize=t;game.state!=Network.STATE.PLAYING||forEachPlayer(e=>{e.sprites.name.style.fontSize=s,e.sprites.level&&(e.sprites.level.style.fontSize=t)})}super();for(let e=0;e<config.walls.length;e++)config.doodads[e][4]=0;$("body").append(`<style>
        @font-face {
            font-family: ModernDOS8x14;
            src: url("${getFilePath("themes/PixelArt_8bits/ModernDOS8x14.ttf")}");
        }
        #logon #playername
        {
            font-family: ModernDOS8x14;
        }
        body {
            font-smooth: never;
            -webkit-font-smoothing : none;
            background: black url("https://image.ibb.co/eFeUhd/Main_Screen.jpg") no-repeat fixed center;
            background-size: contain;
            font-family: ModernDOS8x14;
            font-size: 14px;
            position: fixed;
            width: 100%;
            height: 100%;
            margin: 0px;
        }
        #scoreboard, #chatbox {
            font-size: 14px;
            font-weight: normal;
        }
        #scoreboard .line .nick,
        #scoredetailed .item div,
        #logon div
        {
            font-weight: normal !important;
        }
        #logon .logo {
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAABmAgMAAACo10M/AAAADFBMVEUAAADfJVnCsADb29tHegPaAAAAAXRSTlMAQObYZgAAA7tJREFUaN7tmk1u4zAMhTkDeOONr6ZFdT9tutHpfAON+B+FSYtZzCBM/WDLFCWHH/qsyC0Kly5duvR/1R+oAewarHOwt9WpAsBx6IDKky5KYfDx8jD7ExgJArDXfAZT7liywsx6ERBhKFCYZfpWsAj3KwAlvAMrTF3RLPfyMFQuJjXfFcZpFKY8gfHyPPRjYPYmBajZrF34TL8qZIXp8CXMHmd1KVoDjF7eG6Zr9BRms8YptOcwJTdMFzXdHgLMQnrjTV2e3LeD2cMG2aD5uM9qBqNrO6xpvTqM75UJYdqyQVIUYeyNonltidS3ZzBqXzoY6N/CcGbn2YrwDGa7gak0kBFmb9w4jDP4UJdghSm+mI3Buw4DNSWM+hRh9h5gdoUh1RVG6zoMx26jvbJngIEuZqww5Ak7E2xyGA0cZqNCBuOIK2MKGPHJYSSIMDq3GUM1GG0qtxB8Sggj1doDGIr7uh34RklFAwxQCMGnjDC8ZrvB+PapF3/RAIVZtRlBCWWVNCGM+vQ1jKsvn2wdoZBL9CkjjPnkMEzGI49hatVSHwsMxwWiTwlh1CeGcWv0Gn/xd5gZE4yWVLAAA1VGUCULDPv0DYyTM8xsAgxBBBjdJv0VomaBWTZDq+1f/7cwXWHsb2YKQ70ptiv6xDCUyAOztwBjX/8Ow0lwGAoFRrq1ajp+7WWB+d1FbofVbaCKMFOfhVdqgHGVO5/eBGZebtXxUBmMrmGFCcZUlVqXBmat+D1MD9XQDoHBIw6vqbQwvrR7oMSxvtxQGcFhYNH2o2B6gOFP1ciFmfeB2R2mUZflMG3xqdJZVpjKgsd4aWGawMi2KaKYYSauiypWhynUZ2Fc3wZmVlphFNFhoLd7GFCY29fwLcDw3DQwfZU9teIQsLqlmj3Un7r3cTNVln/J4LiuKuyiTUgD02CFabcwTTL3MGAwUo/FnXuWNDCXLl36hxpwABwntufsDTglMWBqxhhwOMbM4hBOFekkyuEE0TmPec7ZiWFAah8HEUUY//wvYcZ5et4m5YMZAw8mGLNlmBPcJp0yuMoxg3nOCcc48TxweFAEQwpzfsi9B6bTwcAx75T2RA4M6TOIEXXiMWFoHBB4TkHNlu/GC8jtU4gGfsyhjDADa9j9UxiCPcAofaRxnOkdZqAJzDQM5qS7HeYYGWHkB803swOzcRgINkkFPri4VHWYxaZ5ZoQZY4HherYdUM6XNpwIQ8FhS1tt8qU9KKn3ntPIjDB/p5PPA15BrwQz7BXiBfRSMJd+ov4AV20RpyAHVjkAAAAASUVORK5CYII=');
        }
        #logosmall {
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAAAqCAMAAAD1cyU5AAACZ1BMVEUAAADCsADfJVnfJFnfJVnfJVnCsADfJVnCsADCsADCsADfJVnCsADCsADfJVnfJVnCsADCsADCsADfJVnfJVnfJVnfJVnfJVnJO0b////fJVnCsAD////fJVnfJVnCsADCsAD////fJVnfJVnfJVnfJVnCsAD////fJVn////fJVn////////CsADCsAA8CxUjBwz///8EAgLlM0/CsADCsADCsADCsADCsADfJVnfJVnCsADfJVnCsAD///84CRTfJVkoCA7fJVn8NFXfJVnfJVnfJVnfJVnCsADCsADfJVn///9BQ0fCsADfJVnfJVkVAwfCsAARDQ/fJVkPBwnCsAADAwPyMFPBtADgIVve3+Lm5+f////CxMnfJVnHI0a2Iz62ucTCKELfJVnfJVnKM0iho6ulHznfJVmmpqZXER/CsABACxY1BxA5Oj8vMTU1CxHCsADfJVkgDA7CsAAHAQLfJVnCsAD29/vCsADmJlDgKU7BxtXgIlvjME/TI0rd4uzn6OjeM069H0LV2OLhKk/CsADR0tXfJVnRMkzCsACsIDzGx8/fJVmXm6uZGjXCsAC2sbTfJVm+v7+XHjS3LD7CsADfJVmvKjqdJDaalJeoKzyanqiKHTCUlZaaGjZnEyTfJVmNjY11FimCgoaLITBqESZ6e4BrbnTfJVlkGCE5CxRfX148PUBaFh4xCBFJERlMTU/CsADfJVlLS0vCsADCsADfJVkXDhHfJVnCsADfJVkAAADRZy8FBgbCsAD////fJVn/M1v/K1v/O1n8L1ffJE3n6/jj6O7/QmT/LWL/H1L2JUiMbQi6AAAAv3RSTlMA8O/7UPA/8lP0/EGc9tX2hPoUlwj47ckCu5yaIv317fjdiVoVEPLMjWYcEZmQi2lBMwvy3865sqemoJWDgXdjPxkM/uC/sq6soJCIbE9NSDUtLCQkDwX++fj17+7s5OLh39za19XU08++jYduaGRcVFRMTEo/MCH+/v38+vr69vX18O/t7ezn5+Tk4d/f3dvY19HQz8vHxcXFwr69vLu6ubixp6CfnpuZlYB4d3d2cGxnZ19RSTk4MiEgGxYTE3iuilAAAAYRSURBVGje7ZgHUxNBFID3Ts8zgZgQSYiYxIhJRJAIESmhd0R6VZDeBZRu77333nvvvV4IxfqjzGNZV5LojOOMBfhmOHbfvb3ZD9693AWN8X8REMD8FLEYsshMpyProqKG5wUH47hWO86ORuPjQzL1eo1m3CDh4egbMKcxZ7y8YJUj5KxCAbPq6pEvlJoqEkVETPgJDIPQvHnBwXgmCGSlTObhQbNkMoYRBJMJNupmJzZWoSCZHJeVBbG0tEmTSCwxMTyc5jkSHz9u3MWLbk5otePHw3mVimVhLcuOfCFBUKnQT8BCuOxw6YWEECEcpcjlglBQQMpCqcTFZDDwPI5MnkyFenqorpsbGdOCioxELpBKqRBCnp4jX0guF4ngt7u7ROLxDYkkKgpieMYwUE5kxatXEgkVwk0lwg6OhYXpdFiIblqj8fV1FEpL02pJlo8PXUE3TsT4IbTa0SkEJQfH+fNFIvk3du1yd0dIJDKZYAZl1tQEWcuX46KbMIEKmUwMI7JDmsXChYsWoSEaGo4fR4hulwqxbF4e3YOzEMfp9fgjwG8IpfLxYxBsbycZo0UoJIRhcLFAKWGmTcNCcIR/Ly4tiQRueZAXBCoUEODhATOjsa2NCtGiO3QoJcVR6PVrjsMiuF3U1OAcSmSkVkvad3w8jHh+xgyEbt7khkhKGi1CCB07xjDkI9aVUHDwvHm4OFNTp03DIyoUFSUMAo9EMDMa166l1/b2hq07CnHc5MlYSKmEkUoF23dUAllQkko9PYnQ94weIXiwwUqhoUajoxBtG2IxGYvFYWGuPlhhTWcnvsV53svr+zbs7Y2FaDtPTp40KS8Pb4llu7tJLm3nHIcfbaVSlQqE8MxgR68fXUIIHTgAStAiRKLhQgEBEAEJxo6HR04OQs+eQcxZCL9CgBAo8LyfH45rNBYLqGAhi2XHDlx41dWJifgj1NcXVjmSloaV8vJ4nuNAaO9ebgieH9lCYrHEAYYJDSUFRoVgkxkZeI3J1NQkk5HSyslxFDIaGQauBAUFQn5+PI9vb47z8aFCPG8wDBWVnZcvSYOHuZcDNTUgCvJKJQh9/+gzsoV0uoiIqcOAzTsLyeXQjp0JDZVIsJBMBg9NOOruDld6+xYLwUtcUhIUnMHg60uEurtd131ZmcWSnNzQ4O0APsvzo00IHldcN3CxGISmTsVC5HUOXq8JpDQfPcKPPjqdIIAShQhBgygrS05GiAqRlwm4rQl6PbRjjktJgT+AMwaDQsGyo03I9RdWuHlv2wYzo9FkEgQYwZheHsd0urAwkQhGK1fK5RAj8DzLKpX4ZnZzg8YLQrAlrdbLq6dHqWRZyIA4zmEHUSgsFo2GHQbkKezAazys4zgiJJXCuZErlJMz0Ym2NniBw8Ac2vXTp/jc8K9NINLZiVBGBjlXUECvM36Q58/RMHAUoawsMqJkZkIkKwuPHImNpVfIzCRr2tth7uk5UoX+TczmJ08QunOnsfHSpcOHGxvfvKmtvXcPoVu3Tp+G84GBcLx69ejR1tYTJx48iIurre3oQP8uf1nIag0KomNyDAqaMgWhmTP9/dXqWbNgpFbTHGD69KAgtdpqhRFC0dGQhXn4sKQEoStXSkpKS8+d27jx1KmEhL4+s3muHdDZtAmhmJi+vpMnd+6cO3fJkri4jx/nzBkTcs2CBWr14sVkNnv2lEHItkEEhKgI/Q1ZsN7fH4T8/aOjcbywcPv2FStyc69fLy4uLb17d8+egwe/fCkqOnIkIQGEqqpsttbWwMCEhKqqlpZ16yoqzp612caEfgQpGSoEP78qZLXSP0p6utVaV1dZeeNGcXFl5fv3VmtHh8124YLNtnv31q1dXf39FRXl5Wbz7dv19UVFq1fX11++3N8/JuQKUihqNRyxEN7qrzeFWbNgLRTchg1nzuTmWq379n34sGZNV9eWLXV1nz/fv3/+/LVrq1Zt3lxenp3d27t/f2/vwMD69QMD0BQ+fWpuHhP6M5jN6en5+YWFS+0ss/Pu3YsX6ektLfn5CGVnz7GTmwtNO9BOTExcXExMdrbZ3NxsP/9v8jtCXwG6wRbKbHqmOQAAAABJRU5ErkJggg==');
        }
        </style>`),SWAM.on("playerAdded",function(e){e.sprites.name.style.fontFamily="ModernDOS8x14",e._nameplateTextStyle=e.nameplateTextStyle,e.nameplateTextStyle=function(){let e=this._nameplateTextStyle();return e.fontFamily="ModernDOS8x14",e}}),SWAM.on("gameRunning",function(){$("canvas").hide(),Graphics.ticker&&Graphics.ticker.stop(),SWAM.resizeMap=function(s){config.scalingFactor=s,Graphics.resizeRenderer(window.innerWidth,window.innerHeight),e(s)}}),SWAM.on("gamePrep",function(){$("body").css({background:"black url(\"https://image.ibb.co/gK5Gsd/world_background2.jpg\") no-repeat fixed center","background-size":"auto"}),$("canvas").show(),Graphics.ticker&&Graphics.ticker.start()})}injectTextures(e){const s=["map_forest.jpg","map_rock.jpg","map_sand.jpg","map_sea.jpg","aircraft.png","items.png","gui.png","particles.png","mountains.png","flagsbig.png"];for(let t in e){let a=getFileName(e[t]);s.includes(a)&&(e[t]=getFilePath("themes/PixelArt_8bits/"+a))}}}PixelArt_8Bits.themeName="PixelArt 8-Bits",PixelArt_8Bits.description="With love from the 80's, celebrating 6 months of Airmash!",PixelArt_8Bits.author="Bombita";class Russia2018WC extends VanillaTheme{constructor(){super();let e=$.getJSON;$.getJSON=function(s){return"assets/map.json"===s?void($.getJSON=e):e.apply(null,arguments)};const s=["https://image.ibb.co/dzvO0J/2018_FIFA_World_Cup_Background_Wallpapers_33995.jpg","https://image.ibb.co/mkui0J/2018_FIFA_World_Cup_HQ_Background_Wallpaper_34006.jpg","https://image.ibb.co/cKQLVJ/2018_FIFA_World_Cup_Best_HD_Wallpaper_33996.jpg","https://image.ibb.co/etF6LJ/shutterstock_466076552_1.jpg","https://image.ibb.co/kUit0J/FIFA_World_Cup_2018_Players_Wallpaper1.jpg"];let t=Math.floor(Math.random()*s.length),a=s[t];$("body").css({background:`black url("${a}") no-repeat fixed center`}),$("body").append(`<style>
        #logon .logo { background-image: url('https://image.ibb.co/etyFVJ/logo.png'); }
        #logon { background: url('https://image.ibb.co/kCrU9d/logon2.jpg') no-repeat center;/* opacity: 0.9;*/}

        </style>`)}injectTextures(e){changeTextureFiles(e,{"map_forest.jpg":"https://image.ibb.co/chTbpd/map_forest.jpg","map_rock.jpg":"https://image.ibb.co/jyJ47y/map_rock.jpg","map_sand.jpg":"https://image.ibb.co/endbBd/map_sand.jpg","map_rock_mask.jpg":"https://image.ibb.co/g7DnHJ/map_rock_mask.jpg","map_sand_mask.jpg":"https://image.ibb.co/cDCWny/map_sand_mask.jpg","items.png":"https://image.ibb.co/hOmeWd/items.png","mountains.png":"https://image.ibb.co/mpL6LJ/mountains.png"},"themes/Russia2018WC/")}setMobScale(e){super.setMobScale(e),e.sprites.thruster.alpha=0}}Russia2018WC.themeName="World Cup Russia 2018",Russia2018WC.description="Vamos Argentina!",Russia2018WC.author="Bombita";class RealisticSprites extends VanillaTheme{constructor(){super()}injectTextures(e){changeTextureFiles(e,{"map_sea.jpg":"https://i.imgur.com/h2PThGQ.jpg","map_forest.jpg":"https://i.imgur.com/8g1RpMC.jpg","map_rock.jpg":"https://i.imgur.com/BV51lTc.jpg","map_sand.jpg":"https://i.imgur.com/reUCiZf.jpg","aircraft.png":"https://i.imgur.com/NfeE6y4.png","shadows.png":"https://i.imgur.com/1mBvxlr.png","items.png":"https://i.imgur.com/3HzXmoF.png","mountains.png":"https://i.imgur.com/DXogyaA.png"},"themes/RealisticSprites/")}}RealisticSprites.themeName="Realistic Sprites",RealisticSprites.description="More detailed/realistic graphics!",RealisticSprites.author="Bombita";class HellMash extends VanillaTheme{constructor(){function e(){this.audio.happyHalloween();let e=$("<div id='hellmashPrankMessage' class='modalDialog' style='display: none; font-size: 20px; padding: 20px; text-align: center;'>\uD83D\uDE08 Congratulations!<br><br> You are now free to go... or stay here if you dare!<br><br>\uD83D\uDD25MUAHAHAHAHA!\uD83D\uDD25<br><br>This 'surprise' can be reactivated in the Settings Window.<br><br>Please, DO NOT warn the other players. <br><br><div style='font-size: 30px; color: #FF6600'> \uD83C\uDF83 Happy Halloween!</div></div>");$("body").append(e),e.fadeIn(500),setTimeout(()=>{e.remove()},15e3)}super(),this.teamColors={0:{player:16777215,mob:16724736},1:{player:52479,mob:5592575},2:{player:16768256,mob:16733525}},this.changeBackgrounds(),$.extend(this.settingsProvider.getDefault(),{other:{bgAnimation:!0,ambientSound:!0,repeatPrank:!1}});let s=this.settingsProvider.addSection("Ambient");s.addBoolean("other.bgAnimation","Use animated background."),s.addBoolean("other.ambientSound","Play background sound."),s.addBoolean("other.repeatPrank","Repeat the little surprise \uD83D\uDC7B."),SWAM.on("settingsApplied",()=>{let e=SWAM.getThemeSettings();e.other.bgAnimation?this.startBackgroundAnimation():this.stopBackgroundAnimation(),e.other.pranked||0!=$("#prankStyles").length||$("body").append("<style id='prankStyles'>#selTheme{display: none;} .SWAM_Extensions .sectionsContainer > div:nth-child(1) > div.values::before { content:'\uD83D\uDE08 YOU NEED TO DIE AT LEAST ONE TIME, TO EXIT THIS HELL! \uD83D\uDD25'; } </style>"),(e.other.repeatPrank||!e.other.pranked)&&(SWAM.off("playerKilled",r),SWAM.on("playerKilled",r)),this.audio.ambient(e.other.ambientSound)}),this.audio=new function(){let e=null;var s=new Howl({src:[getFilePath("themes/HellMash/themesounds.mp3")],volume:0,sprite:{onescream:[0,1320],scream:[0,2640],mourn1:[2700,1620],mourn2:[4400,1510],mourn3:[6e3,1665],mourn4:[7700,1532],ambient:[9500,22371,!0],happyHalloween:[32500,7533]}});this.ambient=function(t){if(!t)e&&s.stop(e),e=null;else if(!e){s.volume();e=this.play("ambient",0),s.fade(0,.1,1e3,e)}},this.happyHalloween=function(){this.play("happyHalloween",.5)},this.mourn=function(){let e="mourn"+Tools.randInt(1,4);console.log(e),this.play(e,.012)},this.play=function(e,t,a){if(config.settings.sound){let r=s.play(e);return t&&s.volume(t,r),a&&s.loop(a,r),r}}};let t=$(`<div style="
        background: black url(${getFilePath("themes/HellMash/prank.jpg")});
        width: 100%; height: 100%; position: absolute; top: 0; background-position: center; background-size: cover; display: none;"></div>`);$("body").append(t);let a=this,r=function(s){if(s.id==game.myID){$("body").append(t),t.fadeIn(200),a.audio.play("scream",1),setTimeout(()=>t.remove(),3e3);let s=SWAM.getThemeSettings();s.other.repeatPrank||SWAM.off("playerKilled",r),s.other.pranked||setTimeout(e.bind(a),3e3),s.other.pranked=!0,SWAM.saveSettings()}};SWAM.on("playerImpacted",this.audio.mourn.bind(this.audio))}changeBackgrounds(e,s){this.backgrounds=this.backgrounds||[getFilePath("themes/HellMash/bg1.jpg")];let t=Math.floor(Math.random()*this.backgrounds.length),a=this.backgrounds[t]||getFilePath("themes/HellMash/bg1.jpg");$("body").append(`<style type="text/css">
        body { background: black url('${a}') no-repeat fixed center }`+(s?`#logon { background: url('${s}') no-repeat center;}`:"")+"</style>")}injectTextures(e){changeTextureFiles(e,{"map_sea.jpg":null,"map_forest.jpg":null,"map_rock.jpg":null,"map_sand.jpg":null,"aircraft.png":null,"shadows.png":null,"items.png":null,"mountains.png":null},"themes/HellMash/")}start(){super.start()}startBackgroundAnimation(){let e=new PIXI.filters.AdjustmentFilter;game.graphics.layers.game.children[0].filters=[e];const s=2*Math.PI/5000;let t=()=>{let t=.1*Math.sin(game.time*s);e.gamma=t+1,e.brightness=t+1.05};this.stopBackgroundAnimation=function(){Graphics.ticker.remove(t),game.graphics.layers.game.children[0].filters=null},Graphics.ticker.add(t)}stopBackgroundAnimation(){}}HellMash.themeName="Halloween 2018 \uD83D\uDD25 HellMash",HellMash.description="Happy Halloween!",HellMash.author="Bombita";class Halloween2018 extends HellMash{injectTextures(e,s,t,a,r){super.injectTextures(e,s,t,a,r);changeTextureFiles(e,{"map_sea.jpg":null,"map_forest.jpg":null,"items.png":null},"themes/Halloween2018/")}}Halloween2018.themeName="Halloween 2018 \uD83C\uDF83 Limbo",Halloween2018.description="Happy Halloween!",Halloween2018.author="Bombita";function getFileName(e){return e=e.substring(e.lastIndexOf("/")+1),-1<e.indexOf("?")&&(e=e.substr(0,e.indexOf("?"))),e}function changeTextureFiles(e,s,t){for(let a in t=t||"",e){let r=getFileName(e[a]);"undefined"!=typeof s[r]&&(!SWAM.debug&&s[r]?e[a]=s[r]:e[a]=t.startsWith("http")?t+r:getFilePath(t+r))}}window.BaseTheme=BaseTheme,window.VanillaTheme=VanillaTheme,SWAM.registerExtension({name:"StarMash Themes",id:"StarMashThemes",author:"Bombita",version:SWAM_version,themes:[VanillaTheme,RealisticSprites,StarMash_1,StarMash_2,StPatricksDay2018,PixelArt_8Bits,Russia2018WC,HellMash,Halloween2018],dependencies:[]});